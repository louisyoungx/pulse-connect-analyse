(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63a46c20"],{"0858":function(t,e,n){"use strict";n("3ad7")},"10a1":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a=Object(i["X"])("data-v-1bb6e150");Object(i["F"])("data-v-1bb6e150");var s=Object(i["l"])("div",{class:"chart-main"},[Object(i["l"])("br"),Object(i["l"])("br"),Object(i["l"])("div",{class:"Echarts"},[Object(i["l"])("div",{id:"main",style:{width:"100vw",height:"50vh"}})])],-1);Object(i["D"])();var o=a((function(t,e,n,o,c,r){var h=Object(i["K"])("van-icon"),u=Object(i["K"])("van-nav-bar"),l=Object(i["K"])("nav-buttom");return Object(i["C"])(),Object(i["i"])(i["b"],null,[Object(i["l"])(u,{title:"Pulse-Chart"},{right:a((function(){return[Object(i["l"])(h,{name:"search",size:"18"})]})),_:1}),s,Object(i["l"])(l)],64)})),c=(n("4795"),n("6c61")),r={name:"index",components:{NavButtom:c["a"]},data:function(){return{myChart:{},options:{visualMap:{show:!1,type:"continuous",seriesIndex:1,dimension:0,min:0,max:this.DATALength-1},title:{left:"center",text:"心电图"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:this.VALUE},yAxis:{boundaryGap:[0,"80%"],type:"value",scale:!0},series:[{data:this.DATA,type:"line",smooth:!0,symbol:"none"}]},DATA:[],VALUE:[],DATALength:0,ConnectStatus:!0}},mounted:function(){this.main(5e3,100,100)},methods:{TCPClient:function(){var t=new WebSocket("ws://louisyoung.work:12000");t.onerror=function(){this.ConnectStatus=!1,e.$toast.fail("连接失败")};var e=this;t.onopen=function(n){t.send("Receiver Ready"),e.$toast.success("连接服务器成功"),console.log("Receiver Ready");var i=e;t.onmessage=function(t){i.DATA.shift(),i.DATA.push(t.data),console.log(t.data)},t.onclose=function(t){e.$toast.fail("断开连接"),console.log("Connection closed")}}},init:function(t){var e=1;this.DATA=[],this.VALUE=[],this.DATALength=t;while(1){if(this.DATA.push(0),this.VALUE.push("time"),e===t){e=null;break}e++}},main:function(t,e,n){this.init(t),this.TCPClient(),this.GlobalInit(),!0===this.ConnectStatus&&this.Draw(n)},Draw:function(t){this.myChart.setOption(this.options),this.myChart.setOption({xAxis:{data:this.VALUE},series:[{data:this.DATA}]});var e=this;setInterval((function(){e.myChart.setOption({series:[{data:e.DATA}]})}),t)},GlobalInit:function(){var t=n("63e3");this.myChart=t.init(document.getElementById("main"))},RequireInit:function(){var t=n("3eba");n("94b1"),n("007d"),n("627c"),this.myChart=t.init(document.getElementById("main"))}}};n("0858");r.render=o,r.__scopeId="data-v-1bb6e150";e["default"]=r},"3ad7":function(t,e,n){}}]);